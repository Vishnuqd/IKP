{% extends "base.html" %}
{% block breadcrumbs %}
<nav aria-label="breadcrumb">
  <ol class="breadcrumb">
    <li class="breadcrumb-item"><a href="{% url 'faculty_dashboard' %}">Dashboard</a></li>
    <li class="breadcrumb-item active" aria-current="page">Lecture Notes</li>
  </ol>
</nav>
{% endblock %}

{% block content %}
<h2 class="mb-4">My Lecture Notes</h2>

{% if lecture_notes %}
<table class="table table-striped table-hover">
    <thead class="table-dark">
        <tr>
            <th>Title</th>
            <th>Subject</th>
            <th>Semester</th> <!-- Added Semester column -->
            <th>Uploaded By</th> <!-- Added Uploaded By column -->
            <th>Date Uploaded</th>
            <th>Download</th>
        </tr>
    </thead>
    <tbody>
        {% for note in lecture_notes %}
        <tr>
            <td>{{ note.title }}</td>
            <td>{{ note.subject.name }}</td>
            <td>{{ note.subject.semester.name }}</td> <!-- Display Semester -->
            <td>{{ note.uploaded_by.username }}</td> <!-- Display Uploaded By -->
            <td>{{ note.date_uploaded|date:"Y-m-d H:i" }}</td>
            <td>
                <!-- Update the Download link to open the file in a new tab -->
                <a href="{{ note.file.url }}" class="btn btn-success btn-sm" target="_blank">View / Download</a>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% else %}
<p class="text-muted text-center">No lecture notes uploaded yet.</p>
{% endif %}

{% endblock %}
